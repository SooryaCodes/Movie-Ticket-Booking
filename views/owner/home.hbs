<link rel="stylesheet" href="/stylesheets/owner/home.css">
<script src="/javascripts/admin/script.js"></script>



<!--main boxes-->
<div class="main-box">
  <div class="boxes boxes11">
    <div class="box-wrapper">
      <div class="box">
        <div class="box-content">
          <span>User's</span>
          <p>20</p>
        </div>
      </div>
    </div>
    <div class="box-wrapper">
      <div class="box">
        <div class="box-content">
          <span>Owner's</span>
          <p>20</p>
        </div>
      </div>
    </div>
  </div>
  <div class="boxes">
    <div class="box-wrapper2">
      <div class="box">
        <div class="box-content">
          <span>Theater's</span>
          <p>20</p>
        </div>
      </div>
    </div>
    <div class="box-wrapper2">
      <div class="box">
        <div class="box-content">
          <span>Bookings's</span>
          <p>20</p>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ---charts--- -->

<div class="admin-chart">
  <div class="chart1">
    <canvas id="lineChart"></canvas>
    <!--Grid row-->
  </div>
  <div class="chart2">
    <canvas id="barChart"></canvas>
  </div>
</div>
<!--table -->
<div class="admin-table">
  <table>
    <tr>
      <th id="row">No</th>
      <th>Name</th>
      <th>Theater</th>
      <th>Action</th>
    </tr>
    {{#each owner}}
    <tr>
      <td id="row">1</td>
      <td><div class="o-img"><img src="/images/owner/owner{{this._id}}" alt=""></div>{{this.Name}}</td>
      <td>{{this.Email}}</td>
      <td>
        
        <a href="/admin/edit-owner/{{this._id}}"><img class="e-d" src="/images/admin/edit-2.svg" alt="" /></a>
        <a onclick="deleteOwner('{{this._id}}')"> <img class="e-d" src="/images/admin/trash (1).svg" alt="" /></a>
      </td>
    </tr>
    {{/each}}

  </table>
</div>

<script>
  function deleteOwner(ownerId) {
    $.ajax({
      url: '/admin/delete-owner/' + ownerId,
      data: ownerId,
      method: 'post',
      success: (response) => {
        console.log(response.status)
        if (response.status) {
            location.reload()
        }
      }
    })
  }
</script>




<script>
  // ---chart script---

  var ctxL = document.getElementById("barChart").getContext("2d");
  var gradientFill = ctxL.createLinearGradient(0, 0, 0, 290);
  gradientFill.addColorStop(0, "#5e97ff");
  gradientFill.addColorStop(1, "rgba(0,146,255,0.1)");
  var myLineChart = new Chart(ctxL, {
    type: "bar",
    data: {
      labels: ["March", "March", "April", "May", "June", "July"],
      datasets: [
        {
          label: "My First dataset",
          data: [30, 65, 45, 65, 35, 65, 0],
          backgroundColor: gradientFill,
          borderWidth: 2,
        },
      ],
    },
    options: {
      responsive: true,
    },
  });

  var ctxL = document.getElementById("lineChart").getContext("2d");
  var gradientFill = ctxL.createLinearGradient(0, 0, 0, 290);
  gradientFill.addColorStop(0, "rgba(173, 53, 186, 1)");
  gradientFill.addColorStop(1, "rgba(173, 53, 186, 0.1)");
  var myLineChart = new Chart(ctxL, {
    type: "line",
    data: {
      labels: ["January", "February", "March", "April", "May", "June", "July"],
      datasets: [
        {
          label: "My First dataset",
          data: [0, 65, 45, 65, 35, 65, 0],
          backgroundColor: gradientFill,
          borderColor: ["#AD35BA"],
          borderWidth: 2,
          pointBorderColor: "#fff",
          pointBackgroundColor: "rgba(173, 53, 186, 0.1)",
        },
      ],
    },
    options: {
      responsive: true,
    },
  });
</script>